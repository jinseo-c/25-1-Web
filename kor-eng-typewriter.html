<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>한/영 타자기</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .center-content {
      background-color: #f0f0f0;
      text-align: center;
    }
    
    .typewriter{
      display: inline-block;
      margin-left: -50px;
    }
    
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(10px); }
    }

    .add{
      width: 100%;
      display: block;
      padding-left: 500px;
      box-sizing: border-box;
    }
    
    .add h2,
    .add p {
      text-align: left;
    }
    
    #paper {
      display: block;
      margin: 20px auto;
      padding: 20px;
      background: #fff;
      border: 2px solid #000;
      width: 50%;
      height: 150px;
      overflow-y: auto;
      font-size: 20px;
      text-align: left;
    }

    .keyboard_eng, .keyboard_kor {
      display: none;
    }

    .keyboard_eng.active, .keyboard_kor.active {
      display: block;
      margin: 10px auto;
      width: fit-content;
    }

    .keyboard_eng div, .keyboard_kor div {
      margin: 5px;
    }

    label {
      display: inline-block;
      width: 40px;
      height: 40px;
      margin: 2px;
      border: 1px solid #ccc;
      line-height: 40px;
      cursor: default;
      transition: background-color 0.2s;
    }

    /* 키보드 그룹별 색상 */
    .숫자 label {
      background-color: #ffdddd;
    }

    .영어1 label, .한글1 label {
      background-color: #ddffdd;
    }

    .영어2 label, .한글2 label {
      background-color: #ddddff;
    }

    .영어3 label, .한글3 label {
      background-color: #ffffcc;
    }

    /* 키 반짝이기 효과 */
    .highlight {
      background-color: gold !important;
    }

     /* 한/영 모드 표시 */
    #mode-label-eng, #mode-label-kor {
      background-color: #aaaaff;
      font-weight: bold;
    }
    
    /* .블록 기능키 강조*/
    #toggleKey {
      border: 2px solid red;
     border-radius: 4px;
    }
  </style>
</head>
<body>
  
  <nav>
    <ul>
      <li><a href="index.html">홈</a></li>
      <li><a href="eng-typewriter">영문 타자기</a></li>
      <li><a href="kor-eng-typewriter">한/영 타자기</a></li>
      <li><a href="Calculator">계산기</a></li>
      <li><a href="telephone">전화기</a></li>
    </ul>
  </nav>

  <main class="center-content">
    <h1>한/영 타자기</h1>
    <br><hr /><br>
    <br><br>
    <img class="typewriter" src="images/빈티지타자기.png" alt="타자기" />
    <br><br><br><br>
    <p>영문 타자기와 작동방식은 같지만 한글로도 전환이 가능합니다!</p>
    <p>아래에서 타자기를 실행해볼 수 있습니다.</p>
    
    <br><br>
    <p style="font-size: 2em; animation: bounce 1s infinite;">↓</p>
    
    <br><br><br><br>
    <label id="paper">빅데이터과, 2402198, 이진서<br></label>

    <div class="keyboard_eng active" id="eng">
      <div class="숫자">
        <label>1</label><label>2</label><label>3</label><label>4</label><label>5</label><label>6</label><label>7</label><label>8</label><label>9</label><label>0</label>
      </div>
      <div class="영어1">
        <label>q</label><label>w</label><label>e</label><label>r</label>
        <label>t</label><label>y</label>
        <label>u</label><label>i</label><label>o</label><label>p</label>
      </div>
      <div class="영어2">
        <label>a</label><label>s</label><label>d</label><label>f</label>
        <label>g</label><label>h</label>
        <label>j</label><label>k</label><label>l</label>
      </div>
      <div class="영어3">
        <label>z</label><label>x</label><label>c</label><label>v</label>
        <label>b</label><label>n</label>
        <label>m</label><label>,</label><label id="toggleKey">.</label>
        <label id="mode-label-eng">영</label>
      </div>
    </div>

    <div class="keyboard_kor" id="kor">
      <div class="숫자">
        <label>1</label><label>2</label><label>3</label><label>4</label><label>5</label><label>6</label><label>7</label><label>8</label><label>9</label><label>0</label>
      </div>
      <div class="한글1">
        <label>ㅂ</label><label>ㅈ</label><label>ㄷ</label><label>ㄱ</label>
        <label>ㅅ</label><label>ㅛ</label>
        <label>ㅕ</label><label>ㅑ</label><label>ㅐ</label><label>ㅔ</label>
      </div>
      <div class="한글2">
        <label>ㅁ</label><label>ㄴ</label><label>ㅇ</label><label>ㄹ</label>
        <label>ㅎ</label><label>ㅗ</label>
        <label>ㅓ</label><label>ㅏ</label><label>ㅣ</label>
      </div>
      <div class="한글3">
        <label>ㅋ</label><label>ㅌ</label><label>ㅊ</label><label>ㅍ</label>
        <label>ㅠ</label><label>ㅜ</label>
        <label>ㅡ</label><label>,</label><label id="toggleKey">.</label>
        <label id="mode-label-kor">한</label>
      </div>
    </div>

    <br><br><br><br>
    <section class="add">
      <h2>실행 도우미</h2>
      <p>- 처음 실행시에는 영문이 기본으로 설정되어있습니다.</p>
      <p>- 붉은 색으로 표시된 '.' 자판을 누르면 한/영 전환이 됩니다. (바로 옆 칸에 '한' 또는 '영'으로 현재 상태를 보여줍니다.)</p>
      <p>- 한글은 일반 삽입으로 영문과 같이 나열됩니다.</p>
      <p>- clear를 원할 경우 새로고침을 하여 display를 지웁니다.</p>
    </section>
    <br><br><br><br><br><br>
  </main>
  
  <footer>
    <p>&copy; 2025 Js Website. All rights reserved.</p>
    <p>한양여자대학교 빅데이터과 2402198 이진서</p>
    <img class="footer-image" src="images/한양여자대학교 footer.png" alt="한양여자대학교 마크" />
  </footer>

  <script>
    let isKorean = false;

    const paper = document.getElementById("paper");
    const eng = document.getElementById("eng");
    const kor = document.getElementById("kor");
    const modeDisplay = document.getElementById("mode-display");

    const korMap = {
      q: 'ㅂ', w: 'ㅈ', e: 'ㄷ', r: 'ㄱ', t: 'ㅅ', y: 'ㅛ', u: 'ㅕ', i: 'ㅑ', o: 'ㅐ', p: 'ㅔ',
      a: 'ㅁ', s: 'ㄴ', d: 'ㅇ', f: 'ㄹ', g: 'ㅎ', h: 'ㅗ', j: 'ㅓ', k: 'ㅏ', l: 'ㅣ',
      z: 'ㅋ', x: 'ㅌ', c: 'ㅊ', v: 'ㅍ', b: 'ㅠ', n: 'ㅜ', m: 'ㅡ', ',': ',', '.': '.'
    };

    function toggleLanguage() {
      isKorean = !isKorean;
      eng.classList.toggle("active", !isKorean);
      kor.classList.toggle("active", isKorean);
      modeLabelEng.style.display = isKorean ? "none" : "inline-block";
      modeLabelKor.style.display = isKorean ? "inline-block" : "none";
    }

    document.addEventListener("keydown", (e) => {
      const key = e.key.toLowerCase();

      // '.' 키로 한/영 전환
      if (key === '.') {
        toggleLanguage();
        return;
      }

      let typedChar = '';

      if (isKorean && korMap[key]) {
        typedChar = korMap[key];
      } else if (!isKorean && key.length === 1 && key.match(/[a-z0-9,]/)) {
        typedChar = key;
      } else if (!isKorean && key === '.') {
        typedChar = '.';
      }

      if (typedChar) {
        paper.innerHTML += typedChar;

        // 눌린 키 반짝이기
        const labels = document.querySelectorAll(`.keyboard_${isKorean ? 'kor' : 'eng'} label`);
        const target = Array.from(labels).find(label => label.innerText === typedChar);
        if (target) {
          target.classList.add("highlight");
          setTimeout(() => target.classList.remove("highlight"), 200);
        }
      }
    });
  </script>
</body>
</html>
